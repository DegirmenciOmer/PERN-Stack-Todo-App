{"version":3,"sources":["utils/index.js","contexts/AllTodosContext.js","components/DeleteModal.js","components/EditModal.js","components/TodoItem.js","components/ListTodos.js","components/Input.js","components/Dropdown.js","components/LogoutModal.js","components/Header.js","components/LoginWarningModal.js","components/Login.js","components/Register.js","App.js","hooks/useLocalStorage.js","index.js"],"names":["URL","process","fetchTodos","id","a","fetch","response","json","data","console","error","message","editTodo","description","body","method","JSON","stringify","headers","window","location","toggleTodo","toggleId","TodoListContext","React","createContext","useTodoList","useContext","TodoListProvider","children","useState","todoList","setTodoList","setDescription","searchValue","setSearchValue","onSubmitTodo","e","preventDefault","user_id","length","alert","log","Provider","value","DeleteModal","activeTodo","setOpenModal","openModal","handleDelete","deleteId","filter","todo","todo_id","Modal","centered","show","onHide","Header","Title","Body","Footer","Button","variant","onClick","EditModal","Form","onSubmit","handleEdit","Control","maxLength","type","onChange","target","limitedValue","slice","handleEditInput","TodoItem","openDeleteModal","setOpenDeleteModal","openEditModal","setOpenEditModal","setActiveTodo","showOnHover","setShowOnHover","responsiveBtnDisplay","display","innerWidth","ListGroup","Item","className","onMouseOverCapture","onMouseLeave","ButtonGroup","style","textDecorationLine","is_done","color","checked","marginRight","ListTodos","useEffect","isMounted","then","Spinner","animation","role","map","Input","placeholder","handleChangeInput","fontSize","Dropdown","prompt","open","setOpen","cursor","setCursor","searchQuery","setSearchQuery","options","setOptions","inputRef","useRef","toggleDropdown","current","document","addEventListener","searchItems","removeEventListener","q","opts","forEach","obj","toLocaleLowerCase","includes","toLowerCase","push","handleSelect","val","ref","onKeyDown","key","cur","keyboardNavigation","onMouseOver","onMouseOut","option","index","LogoutModal","setId","history","useHistory","openLogoutModal","setOpenLogoutModal","Navbar","backgroundColor","expand","Container","fluid","Brand","href","Toggle","Collapse","LoginWarningModal","Login","email","setEmail","password","setPassword","openLoginWarningModal","setOpenLoginWarningModal","md","Group","required","to","Register","username","setUsername","setError","name","config","axios","post","res","App","initialValue","prefixedKey","jsonValue","localStorage","getItem","parse","setValue","setItem","useLocalStorage","Switch","height","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0207d04d.chunk.js","sourcesContent":["export const URL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? // ? process.env.REACT_APP_DEV_URL\r\n      process.env.REACT_APP_PRODUCTION_URL\r\n    : process.env.REACT_APP_PRODUCTION_URL\r\n\r\nexport const fetchTodos = async (id) => {\r\n  try {\r\n    const response = await fetch(`${URL}/todos/${id}`)\r\n    const data = await response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.error(err.message)\r\n  }\r\n}\r\n\r\nexport const editTodo = async (description, id) => {\r\n  try {\r\n    const body = { description }\r\n\r\n    await fetch(`${URL}/todos/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(body),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n\r\n    window.location = '/home'\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nexport const toggleTodo = async (toggleId) => {\r\n  try {\r\n    await fetch(`${URL}/todos/toggle/${toggleId}`, { method: 'PUT' })\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { URL } from '../utils'\r\n\r\nconst TodoListContext = React.createContext()\r\n\r\nexport function useTodoList() {\r\n  return useContext(TodoListContext)\r\n}\r\n\r\nexport function TodoListProvider({ children, id }) {\r\n  const [todoList, setTodoList] = useState([])\r\n  const [description, setDescription] = useState('')\r\n\r\n  const [searchValue, setSearchValue] = useState(null)\r\n  const onSubmitTodo = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      const body = { description, user_id: id }\r\n\r\n      if (description.length < 3) {\r\n        alert('You must type at least 3 characters')\r\n      } else {\r\n        //@GET Todos\r\n        await fetch(`${URL}/todos/`, {\r\n          method: 'POST',\r\n          body: JSON.stringify(body),\r\n          headers: { 'Content-Type': 'application/json' },\r\n        })\r\n        setDescription('')\r\n      }\r\n      window.location = '/home'\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TodoListContext.Provider\r\n      value={{\r\n        todoList,\r\n        setTodoList,\r\n        onSubmitTodo,\r\n        description,\r\n        setDescription,\r\n        searchValue,\r\n        setSearchValue,\r\n      }}\r\n    >\r\n      {children}\r\n    </TodoListContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport { URL } from '../utils'\r\n\r\nconst DeleteModal = ({ activeTodo, setOpenModal, openModal }) => {\r\n  const { todoList, setTodoList } = useTodoList()\r\n\r\n  const handleDelete = async (deleteId) => {\r\n    try {\r\n      await fetch(`${URL}/todos/${deleteId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n      })\r\n      setTodoList(todoList.filter((todo) => todo.todo_id !== deleteId))\r\n      setOpenModal(false)\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  return (\r\n    <Modal centered show={openModal} onHide={() => setOpenModal(false)}>\r\n      <Modal.Header>\r\n        <Modal.Title>Delete Todo</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        Do you want to delete \"{activeTodo.description}\" ?\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant='danger'\r\n          onClick={() => handleDelete(activeTodo.todo_id)}\r\n        >\r\n          Delete\r\n        </Button>\r\n        <Button variant='secondary' onClick={() => setOpenModal(false)}>\r\n          Cancel\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DeleteModal\r\n","import React, { useState } from 'react'\r\nimport { Button, Form, Modal } from 'react-bootstrap'\r\nimport { editTodo } from './../utils/index'\r\n\r\nconst EditModal = ({ activeTodo, setOpenModal, openModal }) => {\r\n  const [description, setDescription] = useState(activeTodo.description)\r\n\r\n  const handleEdit = (e) => {\r\n    e.preventDefault()\r\n    if (description.length < 4) {\r\n      return alert('Input value must be minimum 3 characters!')\r\n    } else {\r\n      editTodo(description, activeTodo.todo_id)\r\n      setOpenModal(false)\r\n    }\r\n  }\r\n\r\n  const handleEditInput = (e) => {\r\n    e.preventDefault()\r\n    const { value, maxLength } = e.target\r\n    const limitedValue = value.slice(0, maxLength)\r\n\r\n    setDescription(limitedValue)\r\n  }\r\n  return (\r\n    <Modal centered show={openModal} onHide={() => setOpenModal(false)}>\r\n      <Modal.Header>\r\n        <Modal.Title>Edit Todo</Modal.Title>\r\n      </Modal.Header>\r\n      <Form onSubmit={(e) => handleEdit(e)}>\r\n        <Modal.Body>\r\n          <Form.Control\r\n            maxLength='30'\r\n            value={description}\r\n            type='text'\r\n            onChange={(e) => handleEditInput(e)}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button type='submit'>Save</Button>\r\n          <Button variant='secondary' onClick={() => setOpenModal(false)}>\r\n            Cancel\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default EditModal\r\n","import React, { useState } from 'react'\r\nimport { ListGroup, Button, ButtonGroup } from 'react-bootstrap'\r\nimport { toggleTodo } from '../utils'\r\nimport DeleteModal from './DeleteModal'\r\nimport EditModal from './EditModal'\r\n\r\nconst TodoItem = ({ todo }) => {\r\n  const [openDeleteModal, setOpenDeleteModal] = useState(false)\r\n  const [openEditModal, setOpenEditModal] = useState(false)\r\n  const [activeTodo, setActiveTodo] = useState()\r\n  const [showOnHover, setShowOnHover] = useState(false)\r\n\r\n  const handleDeleteShow = (e) => {\r\n    setActiveTodo(e)\r\n    setOpenDeleteModal(true)\r\n  }\r\n\r\n  const handleToggle = (toggleId) => {\r\n    toggleTodo(toggleId)\r\n    window.location = '/home'\r\n  }\r\n\r\n  const handleEditShow = (e) => {\r\n    setActiveTodo(e)\r\n    setOpenEditModal(true)\r\n  }\r\n\r\n  const responsiveBtnDisplay = {\r\n    display: `${\r\n      showOnHover || window.innerWidth < 768 ? 'inline-block' : 'none'\r\n    } `,\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ListGroup.Item\r\n        className='todo-item mh-100 rounded px-2'\r\n        key={todo.todo_id}\r\n        onMouseOverCapture={() => setShowOnHover(true)}\r\n        onMouseLeave={() => setShowOnHover(false)}\r\n      >\r\n        <ButtonGroup className='d-flex'>\r\n          <span\r\n            onClick={() => handleToggle(todo.todo_id)}\r\n            className='w-100'\r\n            style={{\r\n              textDecorationLine: `${todo.is_done ? 'line-through' : 'none'} `,\r\n              color: `${todo.is_done ? 'gray' : '#000'} `,\r\n            }}\r\n          >\r\n            <input\r\n              id={todo.todo_id}\r\n              type='radio'\r\n              onChange={() => {}}\r\n              checked={todo.is_done}\r\n              style={{\r\n                marginRight: '5px',\r\n              }}\r\n            />\r\n            {todo.description}\r\n          </span>\r\n          <Button\r\n            style={responsiveBtnDisplay}\r\n            variant='outline-secondary'\r\n            className='but border-0 p-1'\r\n            onClick={() => handleEditShow(todo)}\r\n          >\r\n            <i className='fa fa-edit'></i>\r\n          </Button>\r\n          <Button\r\n            style={responsiveBtnDisplay}\r\n            className='but border-0 p-1'\r\n            onClick={() => handleDeleteShow(todo)}\r\n            variant='outline-danger'\r\n          >\r\n            <i className='fa fa-trash'></i>\r\n          </Button>\r\n        </ButtonGroup>\r\n      </ListGroup.Item>\r\n      {openDeleteModal && (\r\n        <DeleteModal\r\n          activeTodo={activeTodo}\r\n          openModal={openDeleteModal}\r\n          setOpenModal={setOpenDeleteModal}\r\n        />\r\n      )}\r\n      {openEditModal && (\r\n        <EditModal\r\n          activeTodo={activeTodo}\r\n          openModal={openEditModal}\r\n          setOpenModal={setOpenEditModal}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TodoItem\r\n","import { useEffect } from 'react'\r\nimport { ListGroup, Spinner } from 'react-bootstrap'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport TodoItem from './TodoItem'\r\nimport { fetchTodos } from './../utils/index'\r\n\r\nconst ListTodos = ({ id }) => {\r\n  const { todoList, setTodoList } = useTodoList()\r\n\r\n  useEffect(() => {\r\n    let isMounted = true\r\n    console.log({ todoList })\r\n\r\n    if (id) {\r\n      fetchTodos(id).then((data) => isMounted && setTodoList(data))\r\n      return () => {\r\n        isMounted = false\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <ListGroup>\r\n          {todoList.length === 0 ? (\r\n            <Spinner className='m-auto mt-5' animation='border' role='status'>\r\n              <span className='visually-hidden'>Loading...</span>\r\n            </Spinner>\r\n          ) : (\r\n            <>\r\n              {todoList.map((todo) => (\r\n                <TodoItem key={todo.todo_id} todo={todo} />\r\n              ))}\r\n            </>\r\n          )}\r\n        </ListGroup>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ListTodos\r\n","import React from 'react'\r\nimport { Button, Form } from 'react-bootstrap'\r\nimport { useTodoList } from './../contexts/AllTodosContext'\r\n\r\nconst Input = () => {\r\n  const { description, setDescription, onSubmitTodo } = useTodoList()\r\n  const handleChangeInput = (e) => {\r\n    e.preventDefault()\r\n    const { value, maxLength } = e.target\r\n    const limitedValue = value.slice(0, maxLength)\r\n\r\n    setDescription(limitedValue)\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={onSubmitTodo} className='d-flex mt-5 mb-4'>\r\n      <Form.Control\r\n        maxLength='30'\r\n        value={description}\r\n        type='text'\r\n        placeholder='Enter a new todo'\r\n        onChange={(e) => handleChangeInput(e)}\r\n      />\r\n      <Button\r\n        style={{\r\n          fontSize: '16px',\r\n        }}\r\n        variant='outline-light'\r\n        type='submit'\r\n      >\r\n        <i className='fa fa-plus'></i>\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport './Dropdown.css'\r\n\r\nconst Dropdown = ({ prompt }) => {\r\n  const { todoList, setSearchValue, searchValue } = useTodoList()\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [cursor, setCursor] = useState(0)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [options, setOptions] = useState([])\r\n\r\n  const inputRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', toggleDropdown)\r\n\r\n    searchItems(searchQuery)\r\n    return () => {\r\n      document.removeEventListener('click', toggleDropdown)\r\n    }\r\n  }, [searchQuery])\r\n\r\n  function toggleDropdown(e) {\r\n    setOpen(e && e.target === inputRef.current)\r\n  }\r\n\r\n  const searchItems = (q) => {\r\n    let opts = []\r\n    if (q) {\r\n      todoList.forEach((obj) => {\r\n        obj.description.toLocaleLowerCase().includes(q.toLowerCase()) &&\r\n          opts.push(obj)\r\n      })\r\n\r\n      setOptions(opts.slice(0, 4))\r\n    } else {\r\n      setOptions([])\r\n    }\r\n  }\r\n\r\n  const keyboardNavigation = (e) => {\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        open\r\n          ? setCursor((cur) => (cur < options.length - 1 ? cur + 1 : 0))\r\n          : setOpen(true)\r\n        break\r\n\r\n      case 'ArrowUp':\r\n        setCursor((cur) => (cur > 0 ? cur - 1 : options.length - 0))\r\n        break\r\n\r\n      case 'Escape':\r\n        setOpen(false)\r\n        break\r\n\r\n      case 'Enter':\r\n        options && cursor > -1 && handleSelect(options[cursor])\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n  //debouncing\r\n  function handleSelect(val) {\r\n    setSearchValue(val)\r\n    setOpen(false)\r\n    setCursor(0)\r\n    setOptions([])\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='dropdown'>\r\n        <div className='control'>\r\n          <div className='selected-value'>\r\n            <input\r\n              data-testid='input'\r\n              ref={inputRef}\r\n              placeholder={searchValue ? searchValue.description : prompt}\r\n              type='text'\r\n              value={searchValue ? searchValue.description : searchQuery}\r\n              onChange={(e) => {\r\n                !open && setOpen(true)\r\n                setSearchQuery(e.target.value)\r\n                setSearchValue(null)\r\n              }}\r\n              onKeyDown={(e) => keyboardNavigation(e)}\r\n              onMouseOver={() => setCursor(0)}\r\n              onMouseOut={() => setCursor(0)}\r\n            />\r\n          </div>\r\n          <div data-testid='arrow' className={`arrow ${open && 'open'}`}></div>\r\n        </div>\r\n        <div data-testid='options' className={`options ${open && 'open'}`}>\r\n          {options.length > 0 &&\r\n            options.map((option, index) => (\r\n              <div\r\n                data-testid={`opt${index}`}\r\n                className={`option ${\r\n                  (searchValue === option && 'selected') ||\r\n                  (option === options[cursor] && 'selected')\r\n                }`}\r\n                onClick={() => {\r\n                  handleSelect(option)\r\n                }}\r\n                key={option.todo_id}\r\n              >\r\n                {option.description}\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Dropdown\r\n","import React from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst LogoutModal = ({ setOpenModal, openModal, setId }) => {\r\n  const history = useHistory()\r\n\r\n  const logout = () => {\r\n    setId(null)\r\n    setOpenModal(false)\r\n    history.push('/login')\r\n  }\r\n\r\n  return (\r\n    <Modal centered show={openModal} onHide={() => setOpenModal(false)}>\r\n      <Modal.Header>\r\n        <Modal.Title>Logout</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>Are you sure?</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant='danger' onClick={logout}>\r\n          Logout\r\n        </Button>\r\n        <Button variant='secondary' onClick={() => setOpenModal(false)}>\r\n          Cancel\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default LogoutModal\r\n","import React, { useState } from 'react'\r\nimport Dropdown from './Dropdown'\r\nimport { Button, Container, Navbar } from 'react-bootstrap'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport TodoItem from './TodoItem'\r\nimport LogoutModal from './LogoutModal'\r\n\r\nconst Header = ({ setId }) => {\r\n  const { setSearchValue, searchValue } = useTodoList()\r\n\r\n  const [openLogoutModal, setOpenLogoutModal] = useState(false)\r\n\r\n  return (\r\n    <>\r\n      <Navbar\r\n        style={{ backgroundColor: 'rgb(140, 196, 255)' }}\r\n        expand='lg'\r\n        className='rounded'\r\n      >\r\n        <Container fluid>\r\n          <Navbar.Brand href='#'>\r\n            <h2>Todo App</h2>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n          <Navbar.Collapse\r\n            className='justify-content-end mt-2'\r\n            id='basic-navbar-nav'\r\n          >\r\n            <div>\r\n              <Dropdown\r\n                prompt='Search...'\r\n                onChange={(val) => setSearchValue(val)}\r\n              />\r\n            </div>\r\n            <Button\r\n              className={window.innerWidth < 992 ? 'w-100 mt-2' : ''}\r\n              variant='outline-danger'\r\n              onClick={setOpenLogoutModal}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n\r\n      {searchValue && (\r\n        <div className='mt-5 mb-3'>\r\n          <h6>Selected Todo:</h6>\r\n\r\n          <TodoItem todo={searchValue} />\r\n          <hr />\r\n        </div>\r\n      )}\r\n      {openLogoutModal && (\r\n        <LogoutModal\r\n          openModal={openLogoutModal}\r\n          setId={setId}\r\n          setOpenModal={setOpenLogoutModal}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\n\r\nconst LoginWarningModal = ({ setOpenModal, openModal }) => {\r\n  return (\r\n    <Modal centered show={openModal} onHide={() => setOpenModal(false)}>\r\n      <Modal.Header>\r\n        <Modal.Title>OOpss!</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>Wrong Credentials!</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button onClick={() => setOpenModal(false)}>Got it</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default LoginWarningModal\r\n","import React, { useState } from 'react'\r\nimport { Container, Form, Button } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { URL } from '../utils'\r\nimport LoginWarningModal from './LoginWarningModal'\r\n\r\nexport default function Login({ id, setId }) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [openLoginWarningModal, setOpenLoginWarningModal] = useState(false)\r\n\r\n  console.log({ URL })\r\n\r\n  let history = useHistory()\r\n\r\n  async function login(e) {\r\n    e.preventDefault()\r\n    try {\r\n      const body = { email, password }\r\n      const response = await fetch(`${URL}/users/login`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(body),\r\n        headers: { 'Content-Type': 'application/json' },\r\n      })\r\n      const data = await response.json()\r\n      setId(data.user_id)\r\n      history.push('/home')\r\n      return data\r\n    } catch (err) {\r\n      console.log(err)\r\n      setOpenLoginWarningModal(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className='align-items-center flex-column d-flex justify-content-center h-100'>\r\n      <Form\r\n        onSubmit={login}\r\n        md='8'\r\n        className='align-items-center d-flex flex-column mb-6'\r\n      >\r\n        <Form.Group className='mb-2 '>\r\n          <Form.Control\r\n            placeholder='Email'\r\n            type='text'\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n          <Form.Control\r\n            placeholder='Password'\r\n            type='text'\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Button className='w-100' type='submit'>\r\n          Login\r\n        </Button>\r\n      </Form>\r\n      <p className='mt-5 mb-4'> Not a member yet?</p>\r\n      <Link to='/register'>\r\n        <Button variant='secondary'> Sign up</Button>\r\n      </Link>\r\n      {openLoginWarningModal && (\r\n        <LoginWarningModal\r\n          openModal={openLoginWarningModal}\r\n          setId={setId}\r\n          setOpenModal={setOpenLoginWarningModal}\r\n        />\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Container, Form, Button, Modal } from 'react-bootstrap'\r\nimport { URL } from '../utils'\r\nimport axios from 'axios'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport default function Register({ setId, id }) {\r\n  const [username, setUsername] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [error, setError] = useState(null)\r\n\r\n  let history = useHistory()\r\n\r\n  async function handleRegister(e) {\r\n    e.preventDefault()\r\n    try {\r\n      const body = {\r\n        name: username,\r\n        email: email,\r\n        password: password,\r\n      }\r\n\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      }\r\n      const res = await axios.post(`${URL}/users/register`, body, config)\r\n      setError(null)\r\n      res.data && setId(res.data.user_id)\r\n\r\n      history.push('/home')\r\n    } catch (err) {\r\n      console.log(err)\r\n      setError(err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className='align-items-center flex-column d-flex justify-content-center h-100'>\r\n      <Form\r\n        onSubmit={handleRegister}\r\n        md='8'\r\n        className='align-items-center d-flex flex-column '\r\n      >\r\n        <Form.Group className='mb-2'>\r\n          <Form.Control\r\n            placeholder='Name'\r\n            type='text'\r\n            required\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <Form.Control\r\n            placeholder='Email'\r\n            type='text'\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <Form.Control\r\n            placeholder='Password'\r\n            type='text'\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button className='w-100' type='submit'>\r\n          Sign up\r\n        </Button>\r\n      </Form>\r\n      <p className='mt-5 mb-4'>Already signed up? </p>\r\n      <Link to='/login'>\r\n        <Button variant='secondary'> Sign in</Button>\r\n      </Link>\r\n      {error && (\r\n        <Modal\r\n          className='text-danger'\r\n          centered\r\n          show={error}\r\n          onHide={() => setError(null)}\r\n        >\r\n          <Modal.Header>\r\n            <Modal.Title>Oops!!!</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{error.message}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant='secondary' onClick={() => setError(null)}>\r\n              OK\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n","import './App.css'\r\nimport { Container } from 'react-bootstrap'\r\nimport ListTodos from './components/ListTodos'\r\nimport { TodoListProvider } from './contexts/AllTodosContext'\r\nimport Input from './components/Input'\r\nimport Header from './components/Header'\r\nimport Login from './components/Login'\r\nimport useLocalStorage from './hooks/useLocalStorage'\r\nimport Register from './components/Register'\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\r\nimport Switch from 'react-bootstrap/esm/Switch'\r\n\r\nfunction App() {\r\n  const [id, setId] = useLocalStorage('todo-user-id', null)\r\n\r\n  return (\r\n    <Router>\r\n      <Switch style={{ height: '100vh' }}>\r\n        <TodoListProvider id={id}>\r\n          {id ? (\r\n            <Route path='/home'>\r\n              <Container className='col-sm-12 col-md-8 col-lg-4 mx-auto h-40'>\r\n                <Header setId={setId} id={id} />\r\n                <Input />\r\n                <ListTodos id={id} />\r\n              </Container>\r\n            </Route>\r\n          ) : (\r\n            <>\r\n              <Route path='/'>\r\n                <Redirect to='/login' />\r\n              </Route>\r\n              <Route path='/register'>\r\n                <Register setId={setId} id={id} />\r\n              </Route>\r\n              <Route path='/login'>\r\n                <Login setId={setId} id={id} />\r\n              </Route>\r\n            </>\r\n          )}\r\n        </TodoListProvider>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n/* <Route path='/login'>\r\n            {' '}\r\n            <Login setId={setId} />\r\n          </Route> */\r\n","import { useEffect, useState } from 'react'\r\n\r\nconst PREFIX = 'pern-todo-'\r\n\r\nexport default function useLocalStorage(key, initialValue) {\r\n  const prefixedKey = PREFIX + key\r\n  const [value, setValue] = useState(() => {\r\n    const jsonValue = localStorage.getItem(prefixedKey)\r\n    if (jsonValue != null) return JSON.parse(jsonValue)\r\n    if (typeof initialValue === 'function') {\r\n      return initialValue()\r\n    } else {\r\n      return initialValue\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n  }, [prefixedKey, value])\r\n\r\n  return [value, setValue]\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}