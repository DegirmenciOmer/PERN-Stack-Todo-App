(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(13),a=n.n(o),s=(n(26),n(39)),i=n(35),d=n(41),u=n(7),l=n.n(u),j=n(11),p=n(10);var b=n(3),h=r.a.createContext(),f="http://localhost:5000/todos";function O(){return Object(c.useContext)(h)}function x(e){var t=e.children,n=function(e,t){var n="pern-todo-"+e,r=Object(c.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(p.a)(r,2),a=o[0],s=o[1];return Object(c.useEffect)((function(){localStorage.setItem(n,JSON.stringify(a))}),[n,a]),[a,s]}("todolist",[]),r=Object(p.a)(n,2),o=r[0],a=r[1],s=Object(c.useState)(""),i=Object(p.a)(s,2),d=i[0],u=i[1],O=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n={description:d},!(d.length<3)){e.next=7;break}alert("You must type at least 3 characters"),e.next=10;break;case 7:return e.next=9,fetch(f,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 9:u("");case 10:window.location="/",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(h.Provider,{value:{todoList:o,setTodoList:a,onSubmitTodo:O,description:d,setDescription:u},children:t})}var v=function(){var e=O(),t=e.description,n=e.setDescription,c=e.onSubmitTodo;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"text-center mt-5",children:"Pern Todo App"}),Object(b.jsx)("div",{children:Object(b.jsx)(s.a,{onSubmit:c,className:"d-flex mt-5",children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(s.a.Control,{value:t,type:"text",placeholder:"Enter a new todo",onChange:function(e){return n(e.target.value)}}),Object(b.jsx)(d.a,{style:{fontSize:"19px",paddingTop:"0",paddingBottom:"0"},variant:"success",type:"submit",children:Object(b.jsx)("i",{className:"fa fa-paper-plane"})})]})})})]})},m=n(37),y=n(40),g=n(36),w=n(38),T=function(e){var t=e.activeTodo,n=e.setOpenModal,c=e.openModal,r=O(),o=r.todoList,a=r.setTodoList,s=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/").concat(t),{method:"DELETE"});case 3:a(o.filter((function(e){return e.todo_id!==t}))),n(!1),console.log("".concat(f,"/").concat(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(w.a,{show:c,onHide:function(){return n(!1)},children:[Object(b.jsx)(w.a.Header,{children:Object(b.jsx)(w.a.Title,{children:"Delete Todo"})}),Object(b.jsxs)(w.a.Body,{children:['Do you want to delete "',t.description,'" ?']}),Object(b.jsxs)(w.a.Footer,{children:[Object(b.jsx)(d.a,{variant:"danger",onClick:function(){return s(t.todo_id)},children:"Delete"}),Object(b.jsx)(d.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})},k=function(e){var t=e.activeTodo,n=e.setOpenModal,r=e.openModal,o=Object(c.useState)(t.description),a=Object(p.a)(o,2),i=a[0],u=a[1],h=function(){var e=Object(j.a)(l.a.mark((function e(c){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,r={description:i},e.next=5,fetch("".concat(f,"/").concat(t.todo_id),{method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 5:n(!1),window.location="/",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(w.a,{show:r,onHide:function(){return n(!1)},children:[Object(b.jsx)(w.a.Header,{children:Object(b.jsx)(w.a.Title,{children:"Edit Todo"})}),Object(b.jsxs)(s.a,{onSubmit:function(e){return h(e)},children:[Object(b.jsx)(w.a.Body,{children:Object(b.jsx)(s.a.Control,{value:i,type:"text",placeholder:"Enter a new todo",onChange:function(e){return u(e.target.value)}})}),Object(b.jsxs)(w.a.Footer,{children:[Object(b.jsx)(d.a,{type:"submit",children:"Save"}),Object(b.jsx)(d.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})]})},S=function(){var e=O(),t=e.todoList,n=e.setTodoList,r=Object(c.useState)(!1),o=Object(p.a)(r,2),a=o[0],s=o[1],i=Object(c.useState)(!1),u=Object(p.a)(i,2),h=u[0],x=u[1],v=Object(c.useState)(),m=Object(p.a)(v,2),w=m[0],S=m[1],C=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f,"/toggle/").concat(t),{method:"PUT"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,n(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){N()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"text-center mt-5",children:"Todo List"}),Object(b.jsx)("div",{children:Object(b.jsx)(y.a,{children:0===t.length?Object(b.jsx)("p",{children:"No todos"}):Object(b.jsxs)(b.Fragment,{children:[t.map((function(e){return Object(b.jsxs)(y.a.Item,{className:"d-flex justify-content-between",children:[Object(b.jsx)("p",{onClick:function(){return t=e.todo_id,C(t),void(window.location="/");var t},style:{marginTop:"5px",width:"100%",textDecorationLine:"".concat(e.is_done?"line-through":"none"," ")},children:e.description}),Object(b.jsxs)(g.a,{children:[Object(b.jsx)(d.a,{onClick:function(){return S(e),void x(!0)},children:Object(b.jsx)("i",{className:"fa fa-edit"})}),Object(b.jsx)(d.a,{onClick:function(){return S(e),void s(!0)},variant:"danger",children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})]},e.todo_id)})),a&&Object(b.jsx)(T,{activeTodo:w,openModal:a,setOpenModal:s}),h&&Object(b.jsx)(k,{activeTodo:w,openModal:h,setOpenModal:x})]})})})]})};var C=function(){return Object(b.jsx)(x,{children:Object(b.jsxs)(m.a,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(S,{})]})})};n(32);a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8c5f42f0.chunk.js.map