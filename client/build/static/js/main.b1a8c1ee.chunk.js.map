{"version":3,"sources":["utils/index.js","contexts/AllTodosContext.js","hooks/useLocalStorage.js","components/DeleteModal.js","components/EditModal.js","components/TodoItem.js","components/ListTodos.js","components/Input.js","components/Dropdown.js","components/Header.js","App.js","index.js"],"names":["URL","process","console","log","fetchTodos","a","fetch","response","json","data","error","message","editTodo","description","id","body","method","JSON","stringify","headers","window","location","toggleTodo","toggleId","TodoListContext","React","createContext","useTodoList","useContext","TodoListProvider","children","key","initialValue","prefixedKey","useState","jsonValue","localStorage","getItem","parse","value","setValue","useEffect","setItem","useLocalStorage","todoList","setTodoList","setDescription","searchValue","setSearchValue","onSubmitTodo","e","preventDefault","length","alert","Provider","DeleteModal","activeTodo","setOpenModal","openModal","handleDelete","deleteId","filter","todo","todo_id","Modal","centered","show","onHide","Header","Title","Body","Footer","Button","variant","onClick","EditModal","Form","onSubmit","handleEdit","Control","maxLength","type","onChange","target","limitedValue","slice","handleEditInput","TodoItem","openDeleteModal","setOpenDeleteModal","openEditModal","setOpenEditModal","setActiveTodo","showOnHover","setShowOnHover","responsiveBtnDisplay","display","innerWidth","ListGroup","Item","className","onMouseOverCapture","onMouseLeave","ButtonGroup","style","textDecorationLine","is_done","color","checked","marginRight","ListTodos","isMounted","then","Spinner","animation","role","map","Input","placeholder","handleChangeInput","fontSize","Dropdown","prompt","open","setOpen","cursor","setCursor","searchQuery","setSearchQuery","options","setOptions","inputRef","useRef","toggleDropdown","current","document","addEventListener","searchItems","removeEventListener","q","opts","forEach","obj","toLocaleLowerCase","includes","toLowerCase","push","handleSelect","val","ref","onKeyDown","cur","keyboardNavigation","onMouseOver","onMouseOut","option","index","Navbar","backgroundColor","expand","Container","fluid","Brand","href","Toggle","Collapse","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"uPAAO,IAAMA,EAGPC,kDACNC,QAAQC,IAAIH,EAAKC,cAEV,IAAMG,EAAU,uCAAG,8BAAAC,EAAA,+EAECC,MAAMN,GAFP,cAEhBO,EAFgB,gBAGHA,EAASC,OAHN,cAGhBC,EAHgB,OAItBP,QAAQC,IAAIM,GAJU,kBAKfA,GALe,kCAOtBP,QAAQQ,MAAM,KAAIC,SAPI,0DAAH,qDAWVC,EAAQ,uCAAG,WAAOC,EAAaC,GAApB,eAAAT,EAAA,sEAEdU,EAAO,CAAEF,eAFK,SAIdP,MAAM,GAAD,OAAIN,EAAJ,YAAWc,GAAM,CAC1BE,OAAQ,MACRD,KAAME,KAAKC,UAAUH,GACrBI,QAAS,CAAE,eAAgB,sBAPT,OAUpBC,OAAOC,SAAW,IAVE,gDAYpBnB,QAAQQ,MAAR,MAZoB,yDAAH,wDAgBRY,EAAU,uCAAG,WAAOC,GAAP,SAAAlB,EAAA,+EAEhBC,MAAM,GAAD,OAAIN,EAAJ,mBAAkBuB,GAAY,CAAEP,OAAQ,QAF7B,sDAItBd,QAAQQ,MAAR,MAJsB,wDAAH,sD,OC7BjBc,EAAkBC,IAAMC,gBAEvB,SAASC,IACd,OAAOC,qBAAWJ,GAGb,SAASK,EAAT,GAAyC,IAAbC,EAAY,EAAZA,SACjC,ECPa,SAAyBC,EAAKC,GAC3C,IAAMC,EAHO,aAGgBF,EAC7B,EAA0BG,oBAAS,WACjC,IAAMC,EAAYC,aAAaC,QAAQJ,GACvC,OAAiB,MAAbE,EAA0BlB,KAAKqB,MAAMH,GACb,oBAAjBH,EACFA,IAEAA,KANX,mBAAOO,EAAP,KAAcC,EAAd,KAcA,OAJAC,qBAAU,WACRL,aAAaM,QAAQT,EAAahB,KAAKC,UAAUqB,MAChD,CAACN,EAAaM,IAEV,CAACA,EAAOC,GDTiBG,CAAgB,WAAY,IAA5D,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAsCX,mBAAS,IAA/C,mBAAOrB,EAAP,KAAoBiC,EAApB,KACA,EAAsCZ,mBAAS,MAA/C,mBAAOa,EAAP,KAAoBC,EAApB,KACMC,EAAY,uCAAG,WAAOC,GAAP,eAAA7C,EAAA,yDACnB6C,EAAEC,iBADiB,SAGXpC,EAAO,CAAEF,iBAEXA,EAAYuC,OAAS,GALR,gBAMfC,MAAM,uCANS,uCAQT/C,MAAMN,EAAK,CACfgB,OAAQ,OACRD,KAAME,KAAKC,UAAUH,GACrBI,QAAS,CAAE,eAAgB,sBAXd,OAaf2B,EAAe,IAbA,QAejB1B,OAAOC,SAAW,IAfD,kDAiBjBnB,QAAQC,IAAR,MAjBiB,0DAAH,sDAqBlB,OACE,cAACqB,EAAgB8B,SAAjB,CACEf,MAAO,CACLK,WACAC,cACAI,eACApC,cACAiC,iBACAC,cACAC,kBARJ,SAWGlB,I,4BELQyB,EArCK,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UAC/C,EAAkC/B,IAA1BiB,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,YAEZc,EAAY,uCAAG,WAAOC,GAAP,SAAAvD,EAAA,+EAEXC,MAAM,GAAD,OAAIN,EAAJ,YAAW4D,GAAY,CAAE5C,OAAQ,WAF3B,OAGjB6B,EAAYD,EAASiB,QAAO,SAACC,GAAD,OAAUA,EAAKC,UAAYH,MACvDH,GAAa,GAEbvD,QAAQC,IAAR,UAAeH,EAAf,YAAsB4D,IANL,gDAQjB1D,QAAQQ,MAAR,MARiB,yDAAH,sDAWlB,OACE,eAACsD,EAAA,EAAD,CAAOC,UAAQ,EAACC,KAAMR,EAAWS,OAAQ,kBAAMV,GAAa,IAA5D,UACE,cAACO,EAAA,EAAMI,OAAP,UACE,cAACJ,EAAA,EAAMK,MAAP,4BAEF,eAACL,EAAA,EAAMM,KAAP,qCAC0Bd,EAAW3C,YADrC,SAGA,eAACmD,EAAA,EAAMO,OAAP,WACE,cAACC,EAAA,EAAD,CACEC,QAAQ,SACRC,QAAS,kBAAMf,EAAaH,EAAWO,UAFzC,oBAMA,cAACS,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAMjB,GAAa,IAAxD,2B,QCeOkB,EA7CG,SAAC,GAA6C,IAA3CnB,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UAC7C,EAAsCxB,mBAASsB,EAAW3C,aAA1D,mBAAOA,EAAP,KAAoBiC,EAApB,KAmBA,OACE,eAACkB,EAAA,EAAD,CAAOC,UAAQ,EAACC,KAAMR,EAAWS,OAAQ,kBAAMV,GAAa,IAA5D,UACE,cAACO,EAAA,EAAMI,OAAP,UACE,cAACJ,EAAA,EAAMK,MAAP,0BAEF,eAACO,EAAA,EAAD,CAAMC,SAAU,SAAC3B,GAAD,OAtBD,SAACA,GAElB,GADAA,EAAEC,iBACEtC,EAAYuC,OAAS,EACvB,OAAOC,MAAM,6CAEbzC,EAASC,EAAa2C,EAAWO,SACjCN,GAAa,GAgBUqB,CAAW5B,IAAlC,UACE,cAACc,EAAA,EAAMM,KAAP,UACE,cAACM,EAAA,EAAKG,QAAN,CACEC,UAAU,KACVzC,MAAO1B,EACPoE,KAAK,OACLC,SAAU,SAAChC,GAAD,OAlBI,SAACA,GACvBA,EAAEC,iBACF,MAA6BD,EAAEiC,OAAvB5C,EAAR,EAAQA,MAAOyC,EAAf,EAAeA,UACTI,EAAe7C,EAAM8C,MAAM,EAAGL,GAEpClC,EAAesC,GAaUE,CAAgBpC,QAGrC,eAACc,EAAA,EAAMO,OAAP,WACE,cAACC,EAAA,EAAD,CAAQS,KAAK,SAAb,kBACA,cAACT,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAMjB,GAAa,IAAxD,8BC2DK8B,EA7FE,SAAC,GAAc,IAAZzB,EAAW,EAAXA,KAClB,EAA8C5B,oBAAS,GAAvD,mBAAOsD,EAAP,KAAwBC,EAAxB,KACA,EAA0CvD,oBAAS,GAAnD,mBAAOwD,EAAP,KAAsBC,EAAtB,KACA,EAAoCzD,qBAApC,mBAAOsB,EAAP,KAAmBoC,EAAnB,KACA,EAAsC1D,oBAAS,GAA/C,mBAAO2D,EAAP,KAAoBC,EAApB,KAiBMC,EAAuB,CAC3BC,QAAQ,GAAD,OACLH,GAAezE,OAAO6E,WAAa,IAAM,eAAiB,OADrD,MAOT,OAFA/F,QAAQC,IAAIiB,OAAO6E,YAGjB,qCACE,cAACC,EAAA,EAAUC,KAAX,CACEC,UAAU,gCAEVC,mBAAoB,kBAAMP,GAAe,IACzCQ,aAAc,kBAAMR,GAAe,IAJrC,SAME,eAACS,EAAA,EAAD,CAAaH,UAAU,SAAvB,UACE,uBACE1B,QAAS,kBA5BGnD,EA4BgBuC,EAAKC,QA3BzCzC,EAAWC,QACXH,OAAOC,SAAW,KAFC,IAACE,GA6BZ6E,UAAU,QACVI,MAAO,CACLC,mBAAmB,GAAD,OAAK3C,EAAK4C,QAAU,eAAiB,OAArC,KAClBC,MAAM,GAAD,OAAK7C,EAAK4C,QAAU,OAAS,OAA7B,MALT,UAQE,uBACE5F,GAAIgD,EAAKC,QACTkB,KAAK,QACLC,SAAU,aACV0B,QAAS9C,EAAK4C,QACdF,MAAO,CACLK,YAAa,SAGhB/C,EAAKjD,eAER,cAAC2D,EAAA,EAAD,CACEgC,MAAOT,EACPtB,QAAQ,oBACR2B,UAAU,mBACV1B,QAAS,kBA5CjBkB,EA4CsC9B,QA3CtC6B,GAAiB,IAuCX,SAME,mBAAGS,UAAU,iBAEf,cAAC5B,EAAA,EAAD,CACEgC,MAAOT,EACPK,UAAU,mBACV1B,QAAS,kBA7DjBkB,EA6DwC9B,QA5DxC2B,GAAmB,IA6DXhB,QAAQ,iBAJV,SAME,mBAAG2B,UAAU,sBAtCZtC,EAAKC,SA0CXyB,GACC,cAAC,EAAD,CACEhC,WAAYA,EACZE,UAAW8B,EACX/B,aAAcgC,IAGjBC,GACC,cAAC,EAAD,CACElC,WAAYA,EACZE,UAAWgC,EACXjC,aAAckC,QCtDTmB,EAhCG,WAChB,MAA+CnF,IAAvCiB,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,YAAlB,EAA+BE,YAU/B,OARAN,qBAAU,WACR,IAAIsE,GAAY,EAEhB,OADA3G,IAAa4G,MAAK,SAACvG,GAAD,OAAUsG,GAAalE,EAAYpC,MAC9C,WACLsG,GAAY,KAEb,IAGD,mCACE,8BACE,cAACb,EAAA,EAAD,UACuB,IAApBtD,EAASQ,OACR,cAAC6D,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACE,sBAAMf,UAAU,kBAAhB,0BAGF,mCACGxD,EAASwE,KAAI,SAACtD,GAAD,OACZ,cAAC,EAAD,CAA6BA,KAAMA,GAApBA,EAAKC,qBCQrBsD,EAhCD,WACZ,MAAsD1F,IAA9Cd,EAAR,EAAQA,YAAaiC,EAArB,EAAqBA,eAAgBG,EAArC,EAAqCA,aASrC,OACE,eAAC2B,EAAA,EAAD,CAAMC,SAAU5B,EAAcmD,UAAU,mBAAxC,UACE,cAACxB,EAAA,EAAKG,QAAN,CACEC,UAAU,KACVzC,MAAO1B,EACPoE,KAAK,OACLqC,YAAY,mBACZpC,SAAU,SAAChC,GAAD,OAfU,SAACA,GACzBA,EAAEC,iBACF,MAA6BD,EAAEiC,OAAvB5C,EAAR,EAAQA,MAAOyC,EAAf,EAAeA,UACTI,EAAe7C,EAAM8C,MAAM,EAAGL,GAEpClC,EAAesC,GAUMmC,CAAkBrE,MAErC,cAACsB,EAAA,EAAD,CACEgC,MAAO,CACLgB,SAAU,QAEZ/C,QAAQ,gBACRQ,KAAK,SALP,SAOE,mBAAGmB,UAAU,qBC0FNqB,G,MAnHE,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAClB,EAAkD/F,IAA1CiB,EAAR,EAAQA,SAAUI,EAAlB,EAAkBA,eAAgBD,EAAlC,EAAkCA,YAElC,EAAwBb,oBAAS,GAAjC,mBAAOyF,EAAP,KAAaC,EAAb,KACA,EAA4B1F,mBAAS,GAArC,mBAAO2F,EAAP,KAAeC,EAAf,KACA,EAAsC5F,mBAAS,IAA/C,mBAAO6F,EAAP,KAAoBC,EAApB,KACA,EAA8B9F,mBAAS,IAAvC,mBAAO+F,EAAP,KAAgBC,EAAhB,KAEMC,EAAWC,iBAAO,MAWxB,SAASC,EAAenF,GACtB0E,EAAQ1E,GAAKA,EAAEiC,SAAWgD,EAASG,SAVrC7F,qBAAU,WAIR,OAHA8F,SAASC,iBAAiB,QAASH,GAEnCI,EAAYV,GACL,WACLQ,SAASG,oBAAoB,QAASL,MAEvC,CAACN,IAMJ,IAAMU,EAAc,SAACE,GACnB,IAAIC,EAAO,GACPD,GACF/F,EAASiG,SAAQ,SAACC,GAChBA,EAAIjI,YAAYkI,oBAAoBC,SAASL,EAAEM,gBAC7CL,EAAKM,KAAKJ,MAGdZ,EAAWU,EAAKvD,MAAM,EAAG,KAEzB6C,EAAW,KA6Bf,SAASiB,EAAaC,GACpBpG,EAAeoG,GACfxB,GAAQ,GACRE,EAAU,GACVI,EAAW,IAGb,OACE,mCACE,sBAAK9B,UAAU,WAAf,UACE,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,uBACE,cAAY,QACZiD,IAAKlB,EACLb,YAAavE,EAAcA,EAAYlC,YAAc6G,EACrDzC,KAAK,OACL1C,MAAOQ,EAAcA,EAAYlC,YAAckH,EAC/C7C,SAAU,SAAChC,IACRyE,GAAQC,GAAQ,GACjBI,EAAe9E,EAAEiC,OAAO5C,OACxBS,EAAe,OAEjBsG,UAAW,SAACpG,GAAD,OAhDI,SAACA,GAC1B,OAAQA,EAAEnB,KACR,IAAK,YACH4F,EACIG,GAAU,SAACyB,GAAD,OAAUA,EAAMtB,EAAQ7E,OAAS,EAAImG,EAAM,EAAI,KACzD3B,GAAQ,GACZ,MAEF,IAAK,UACHE,GAAU,SAACyB,GAAD,OAAUA,EAAM,EAAIA,EAAM,EAAItB,EAAQ7E,OAAS,KACzD,MAEF,IAAK,SACHwE,GAAQ,GACR,MAEF,IAAK,QACHK,GAAWJ,GAAU,GAAKsB,EAAalB,EAAQJ,KA+BvB2B,CAAmBtG,IACrCuG,YAAa,kBAAM3B,EAAU,IAC7B4B,WAAY,kBAAM5B,EAAU,QAGhC,qBAAK,cAAY,QAAQ1B,UAAS,gBAAWuB,GAAQ,aAEvD,qBAAK,cAAY,UAAUvB,UAAS,kBAAauB,GAAQ,QAAzD,SACGM,EAAQ7E,OAAS,GAChB6E,EAAQb,KAAI,SAACuC,EAAQC,GAAT,OACV,qBACE,2BAAmBA,GACnBxD,UAAS,kBACNrD,IAAgB4G,GAChBA,IAAW1B,EAAQJ,KADO,YAG7BnD,QAAS,WACPyE,EAAaQ,IAPjB,SAWGA,EAAO9I,aAFH8I,EAAO5F,qB,QC7DbK,EA1CA,WACb,MAAwCzC,IAAhCqB,EAAR,EAAQA,eAAgBD,EAAxB,EAAwBA,YAExB,OACE,qCACE,cAAC8G,EAAA,EAAD,CACErD,MAAO,CAAEsD,gBAAiB,sBAC1BC,OAAO,KACP3D,UAAU,UAHZ,SAKE,eAAC4D,EAAA,EAAD,CAAWC,OAAK,EAAhB,UACE,cAACJ,EAAA,EAAOK,MAAR,CAAcC,KAAK,IAAnB,SACE,4CAEF,cAACN,EAAA,EAAOO,OAAR,CAAe,gBAAc,qBAC7B,cAACP,EAAA,EAAOQ,SAAR,CACEjE,UAAU,sBACVtF,GAAG,mBAFL,SAIE,gCACG,IACD,cAAC,EAAD,CACE4G,OAAO,YACPxC,SAAU,SAACkE,GAAD,OAASpG,EAAeoG,gBAO3CrG,GACC,sBAAKqD,UAAU,YAAf,UACE,gDAEA,cAAC,EAAD,CAAUtC,KAAMf,IAChB,8BCtBKuH,MAZf,WACE,OACE,cAACzI,EAAD,UACE,eAACmI,EAAA,EAAD,CAAW5D,UAAU,2CAArB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,U,MCRRmE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlC,SAASmC,eAAe,W","file":"static/js/main.b1a8c1ee.chunk.js","sourcesContent":["export const URL =\r\n  process.env.NODE_ENV === 'development'\r\n    ? process.env.REACT_APP_DEV_URL\r\n    : process.env.REACT_APP_PRODUCTION_URL\r\nconsole.log(URL, process.env.NODE_ENV)\r\n\r\nexport const fetchTodos = async () => {\r\n  try {\r\n    const response = await fetch(URL)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    return data\r\n  } catch (err) {\r\n    console.error(err.message)\r\n  }\r\n}\r\n\r\nexport const editTodo = async (description, id) => {\r\n  try {\r\n    const body = { description }\r\n\r\n    await fetch(`${URL}/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(body),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n\r\n    window.location = '/'\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nexport const toggleTodo = async (toggleId) => {\r\n  try {\r\n    await fetch(`${URL}/toggle/${toggleId}`, { method: 'PUT' })\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport useLocalStorage from '../hooks/useLocalStorage'\r\nimport { URL } from '../utils'\r\n\r\nconst TodoListContext = React.createContext()\r\n\r\nexport function useTodoList() {\r\n  return useContext(TodoListContext)\r\n}\r\n\r\nexport function TodoListProvider({ children }) {\r\n  const [todoList, setTodoList] = useLocalStorage('todolist', [])\r\n  const [description, setDescription] = useState('')\r\n  const [searchValue, setSearchValue] = useState(null)\r\n  const onSubmitTodo = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      const body = { description }\r\n\r\n      if (description.length < 3) {\r\n        alert('You must type at least 3 characters')\r\n      } else {\r\n        await fetch(URL, {\r\n          method: 'POST',\r\n          body: JSON.stringify(body),\r\n          headers: { 'Content-Type': 'application/json' },\r\n        })\r\n        setDescription('')\r\n      }\r\n      window.location = '/'\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TodoListContext.Provider\r\n      value={{\r\n        todoList,\r\n        setTodoList,\r\n        onSubmitTodo,\r\n        description,\r\n        setDescription,\r\n        searchValue,\r\n        setSearchValue,\r\n      }}\r\n    >\r\n      {children}\r\n    </TodoListContext.Provider>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nconst PREFIX = 'pern-todo-'\r\n\r\nexport default function useLocalStorage(key, initialValue) {\r\n  const prefixedKey = PREFIX + key\r\n  const [value, setValue] = useState(() => {\r\n    const jsonValue = localStorage.getItem(prefixedKey)\r\n    if (jsonValue != null) return JSON.parse(jsonValue)\r\n    if (typeof initialValue === 'function') {\r\n      return initialValue()\r\n    } else {\r\n      return initialValue\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n  }, [prefixedKey, value])\r\n\r\n  return [value, setValue]\r\n}\r\n","import React from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport { URL } from '../utils'\r\n\r\nconst DeleteModal = ({ activeTodo, setOpenModal, openModal }) => {\r\n  const { todoList, setTodoList } = useTodoList()\r\n\r\n  const handleDelete = async (deleteId) => {\r\n    try {\r\n      await fetch(`${URL}/${deleteId}`, { method: 'DELETE' })\r\n      setTodoList(todoList.filter((todo) => todo.todo_id !== deleteId))\r\n      setOpenModal(false)\r\n\r\n      console.log(`${URL}/${deleteId}`)\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  return (\r\n    <Modal centered show={openModal} onHide={() => setOpenModal(false)}>\r\n      <Modal.Header>\r\n        <Modal.Title>Delete Todo</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        Do you want to delete \"{activeTodo.description}\" ?\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant='danger'\r\n          onClick={() => handleDelete(activeTodo.todo_id)}\r\n        >\r\n          Delete\r\n        </Button>\r\n        <Button variant='secondary' onClick={() => setOpenModal(false)}>\r\n          Cancel\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DeleteModal\r\n","import React, { useState } from 'react'\r\nimport { Button, Form, Modal } from 'react-bootstrap'\r\nimport { editTodo } from './../utils/index'\r\n\r\nconst EditModal = ({ activeTodo, setOpenModal, openModal }) => {\r\n  const [description, setDescription] = useState(activeTodo.description)\r\n\r\n  const handleEdit = (e) => {\r\n    e.preventDefault()\r\n    if (description.length < 4) {\r\n      return alert('Input value must be minimum 3 characters!')\r\n    } else {\r\n      editTodo(description, activeTodo.todo_id)\r\n      setOpenModal(false)\r\n    }\r\n  }\r\n\r\n  const handleEditInput = (e) => {\r\n    e.preventDefault()\r\n    const { value, maxLength } = e.target\r\n    const limitedValue = value.slice(0, maxLength)\r\n\r\n    setDescription(limitedValue)\r\n  }\r\n  return (\r\n    <Modal centered show={openModal} onHide={() => setOpenModal(false)}>\r\n      <Modal.Header>\r\n        <Modal.Title>Edit Todo</Modal.Title>\r\n      </Modal.Header>\r\n      <Form onSubmit={(e) => handleEdit(e)}>\r\n        <Modal.Body>\r\n          <Form.Control\r\n            maxLength='30'\r\n            value={description}\r\n            type='text'\r\n            onChange={(e) => handleEditInput(e)}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button type='submit'>Save</Button>\r\n          <Button variant='secondary' onClick={() => setOpenModal(false)}>\r\n            Cancel\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default EditModal\r\n","import React, { useState } from 'react'\r\nimport { ListGroup, Button, ButtonGroup } from 'react-bootstrap'\r\nimport { toggleTodo } from '../utils'\r\nimport DeleteModal from './DeleteModal'\r\nimport EditModal from './EditModal'\r\n\r\nconst TodoItem = ({ todo }) => {\r\n  const [openDeleteModal, setOpenDeleteModal] = useState(false)\r\n  const [openEditModal, setOpenEditModal] = useState(false)\r\n  const [activeTodo, setActiveTodo] = useState()\r\n  const [showOnHover, setShowOnHover] = useState(false)\r\n\r\n  const handleDeleteShow = (e) => {\r\n    setActiveTodo(e)\r\n    setOpenDeleteModal(true)\r\n  }\r\n\r\n  const handleToggle = (toggleId) => {\r\n    toggleTodo(toggleId)\r\n    window.location = '/'\r\n  }\r\n\r\n  const handleEditShow = (e) => {\r\n    setActiveTodo(e)\r\n    setOpenEditModal(true)\r\n  }\r\n\r\n  const responsiveBtnDisplay = {\r\n    display: `${\r\n      showOnHover || window.innerWidth < 768 ? 'inline-block' : 'none'\r\n    } `,\r\n  }\r\n\r\n  console.log(window.innerWidth)\r\n\r\n  return (\r\n    <>\r\n      <ListGroup.Item\r\n        className='todo-item mh-100 rounded px-2'\r\n        key={todo.todo_id}\r\n        onMouseOverCapture={() => setShowOnHover(true)}\r\n        onMouseLeave={() => setShowOnHover(false)}\r\n      >\r\n        <ButtonGroup className='d-flex'>\r\n          <span\r\n            onClick={() => handleToggle(todo.todo_id)}\r\n            className='w-100'\r\n            style={{\r\n              textDecorationLine: `${todo.is_done ? 'line-through' : 'none'} `,\r\n              color: `${todo.is_done ? 'gray' : '#000'} `,\r\n            }}\r\n          >\r\n            <input\r\n              id={todo.todo_id}\r\n              type='radio'\r\n              onChange={() => {}}\r\n              checked={todo.is_done}\r\n              style={{\r\n                marginRight: '5px',\r\n              }}\r\n            />\r\n            {todo.description}\r\n          </span>\r\n          <Button\r\n            style={responsiveBtnDisplay}\r\n            variant='outline-secondary'\r\n            className='but border-0 p-1'\r\n            onClick={() => handleEditShow(todo)}\r\n          >\r\n            <i className='fa fa-edit'></i>\r\n          </Button>\r\n          <Button\r\n            style={responsiveBtnDisplay}\r\n            className='but border-0 p-1'\r\n            onClick={() => handleDeleteShow(todo)}\r\n            variant='outline-danger'\r\n          >\r\n            <i className='fa fa-trash'></i>\r\n          </Button>\r\n        </ButtonGroup>\r\n      </ListGroup.Item>\r\n      {openDeleteModal && (\r\n        <DeleteModal\r\n          activeTodo={activeTodo}\r\n          openModal={openDeleteModal}\r\n          setOpenModal={setOpenDeleteModal}\r\n        />\r\n      )}\r\n      {openEditModal && (\r\n        <EditModal\r\n          activeTodo={activeTodo}\r\n          openModal={openEditModal}\r\n          setOpenModal={setOpenEditModal}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TodoItem\r\n","import { useEffect } from 'react'\r\nimport { ListGroup, Spinner } from 'react-bootstrap'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport TodoItem from './TodoItem'\r\nimport { fetchTodos } from './../utils/index'\r\n\r\nconst ListTodos = () => {\r\n  const { todoList, setTodoList, searchValue } = useTodoList()\r\n\r\n  useEffect(() => {\r\n    let isMounted = true\r\n    fetchTodos().then((data) => isMounted && setTodoList(data))\r\n    return () => {\r\n      isMounted = false\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <ListGroup>\r\n          {todoList.length === 0 ? (\r\n            <Spinner animation='border' role='status'>\r\n              <span className='visually-hidden'>Loading...</span>\r\n            </Spinner>\r\n          ) : (\r\n            <>\r\n              {todoList.map((todo) => (\r\n                <TodoItem key={todo.todo_id} todo={todo} />\r\n              ))}\r\n            </>\r\n          )}\r\n        </ListGroup>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ListTodos\r\n","import React from 'react'\r\nimport { Button, Form, InputGroup } from 'react-bootstrap'\r\nimport { useTodoList } from './../contexts/AllTodosContext'\r\n\r\nconst Input = () => {\r\n  const { description, setDescription, onSubmitTodo } = useTodoList()\r\n  const handleChangeInput = (e) => {\r\n    e.preventDefault()\r\n    const { value, maxLength } = e.target\r\n    const limitedValue = value.slice(0, maxLength)\r\n\r\n    setDescription(limitedValue)\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={onSubmitTodo} className='d-flex mt-5 mb-4'>\r\n      <Form.Control\r\n        maxLength='30'\r\n        value={description}\r\n        type='text'\r\n        placeholder='Enter a new todo'\r\n        onChange={(e) => handleChangeInput(e)}\r\n      />\r\n      <Button\r\n        style={{\r\n          fontSize: '16px',\r\n        }}\r\n        variant='outline-light'\r\n        type='submit'\r\n      >\r\n        <i className='fa fa-plus'></i>\r\n      </Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport './Dropdown.css'\r\nimport TodoItem from './TodoItem'\r\n\r\nconst Dropdown = ({ prompt }) => {\r\n  const { todoList, setSearchValue, searchValue } = useTodoList()\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [cursor, setCursor] = useState(0)\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [options, setOptions] = useState([])\r\n\r\n  const inputRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', toggleDropdown)\r\n\r\n    searchItems(searchQuery)\r\n    return () => {\r\n      document.removeEventListener('click', toggleDropdown)\r\n    }\r\n  }, [searchQuery])\r\n\r\n  function toggleDropdown(e) {\r\n    setOpen(e && e.target === inputRef.current)\r\n  }\r\n\r\n  const searchItems = (q) => {\r\n    let opts = []\r\n    if (q) {\r\n      todoList.forEach((obj) => {\r\n        obj.description.toLocaleLowerCase().includes(q.toLowerCase()) &&\r\n          opts.push(obj)\r\n      })\r\n\r\n      setOptions(opts.slice(0, 4))\r\n    } else {\r\n      setOptions([])\r\n    }\r\n  }\r\n\r\n  const keyboardNavigation = (e) => {\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        open\r\n          ? setCursor((cur) => (cur < options.length - 1 ? cur + 1 : 0))\r\n          : setOpen(true)\r\n        break\r\n\r\n      case 'ArrowUp':\r\n        setCursor((cur) => (cur > 0 ? cur - 1 : options.length - 0))\r\n        break\r\n\r\n      case 'Escape':\r\n        setOpen(false)\r\n        break\r\n\r\n      case 'Enter':\r\n        options && cursor > -1 && handleSelect(options[cursor])\r\n        break\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n  //debouncing\r\n  function handleSelect(val) {\r\n    setSearchValue(val)\r\n    setOpen(false)\r\n    setCursor(0)\r\n    setOptions([])\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className='dropdown'>\r\n        <div className='control'>\r\n          <div className='selected-value'>\r\n            <input\r\n              data-testid='input'\r\n              ref={inputRef}\r\n              placeholder={searchValue ? searchValue.description : prompt}\r\n              type='text'\r\n              value={searchValue ? searchValue.description : searchQuery}\r\n              onChange={(e) => {\r\n                !open && setOpen(true)\r\n                setSearchQuery(e.target.value)\r\n                setSearchValue(null)\r\n              }}\r\n              onKeyDown={(e) => keyboardNavigation(e)}\r\n              onMouseOver={() => setCursor(0)}\r\n              onMouseOut={() => setCursor(0)}\r\n            />\r\n          </div>\r\n          <div data-testid='arrow' className={`arrow ${open && 'open'}`}></div>\r\n        </div>\r\n        <div data-testid='options' className={`options ${open && 'open'}`}>\r\n          {options.length > 0 &&\r\n            options.map((option, index) => (\r\n              <div\r\n                data-testid={`opt${index}`}\r\n                className={`option ${\r\n                  (searchValue === option && 'selected') ||\r\n                  (option === options[cursor] && 'selected')\r\n                }`}\r\n                onClick={() => {\r\n                  handleSelect(option)\r\n                }}\r\n                key={option.todo_id}\r\n              >\r\n                {option.description}\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Dropdown\r\n","import React, { useState } from 'react'\r\nimport Dropdown from './Dropdown'\r\nimport { Container, Navbar } from 'react-bootstrap'\r\nimport { useTodoList } from '../contexts/AllTodosContext'\r\nimport TodoItem from './TodoItem'\r\n\r\nconst Header = () => {\r\n  const { setSearchValue, searchValue } = useTodoList()\r\n\r\n  return (\r\n    <>\r\n      <Navbar\r\n        style={{ backgroundColor: 'rgb(140, 196, 255)' }}\r\n        expand='lg'\r\n        className='rounded'\r\n      >\r\n        <Container fluid>\r\n          <Navbar.Brand href='#'>\r\n            <h2>Todo App</h2>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n          <Navbar.Collapse\r\n            className='justify-content-end'\r\n            id='basic-navbar-nav'\r\n          >\r\n            <div>\r\n              {' '}\r\n              <Dropdown\r\n                prompt='Search...'\r\n                onChange={(val) => setSearchValue(val)}\r\n              />\r\n            </div>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n\r\n      {searchValue && (\r\n        <div className='mt-5 mb-3'>\r\n          <h6>Selected Todo:</h6>\r\n\r\n          <TodoItem todo={searchValue} />\r\n          <hr />\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import './App.css'\r\nimport { Container } from 'react-bootstrap'\r\nimport ListTodos from './components/ListTodos'\r\nimport { TodoListProvider } from './contexts/AllTodosContext'\r\nimport Input from './components/Input'\r\nimport Header from './components/Header'\r\n\r\nfunction App() {\r\n  return (\r\n    <TodoListProvider>\r\n      <Container className='col-sm-12 col-md-8 col-lg-4 mx-auto h-40'>\r\n        <Header />\r\n        <Input />\r\n        <ListTodos />\r\n      </Container>\r\n    </TodoListProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}