(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(12),a=n.n(o),s=n(7),i=(n(26),n(41)),u=n(36),d=n(43),l=n(9),j=n.n(l),b=n(13);var p="https://boiling-sands-97823.herokuapp.com/todos";console.log(p,"production");var f=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(p);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,console.log(n),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={description:t},e.next=4,fetch("".concat(p,"/").concat(n),{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 4:window.location="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/toggle/").concat(t),{method:"PUT"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),x=n(2),v=r.a.createContext();function m(){return Object(c.useContext)(v)}function g(e){var t=e.children,n=function(e,t){var n="pern-todo-"+e,r=Object(c.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(s.a)(r,2),a=o[0],i=o[1];return Object(c.useEffect)((function(){localStorage.setItem(n,JSON.stringify(a))}),[n,a]),[a,i]}("todolist",[]),r=Object(s.a)(n,2),o=r[0],a=r[1],i=Object(c.useState)(""),u=Object(s.a)(i,2),d=u[0],l=u[1],f=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n={description:d},!(d.length<3)){e.next=7;break}alert("You must type at least 3 characters"),e.next=10;break;case 7:return e.next=9,fetch(p,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 9:l("");case 10:window.location="/",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(v.Provider,{value:{todoList:o,setTodoList:a,onSubmitTodo:f,description:d,setDescription:l},children:t})}var w=function(){var e=m(),t=e.description,n=e.setDescription,c=e.onSubmitTodo;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:"text-center mt-4",children:"Pern Todo App"}),Object(x.jsx)("div",{children:Object(x.jsx)(i.a,{onSubmit:c,className:"d-flex mt-5",children:Object(x.jsxs)(u.a,{className:"mb-2",children:[Object(x.jsx)(i.a.Control,{value:t,type:"text",placeholder:"Enter a new todo",onChange:function(e){return n(e.target.value)}}),Object(x.jsx)(d.a,{style:{fontSize:"16px",paddingTop:"0",paddingBottom:"0"},variant:"secondary",type:"submit",children:Object(x.jsx)("i",{className:"fa fa-paper-plane"})})]})})})]})},y=n(39),k=n(42),S=n(38),N=n(37),C=n(40),T=function(e){var t=e.activeTodo,n=e.setOpenModal,c=e.openModal,r=m(),o=r.todoList,a=r.setTodoList,s=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/").concat(t),{method:"DELETE"});case 3:a(o.filter((function(e){return e.todo_id!==t}))),n(!1),console.log("".concat(p,"/").concat(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(C.a,{show:c,onHide:function(){return n(!1)},children:[Object(x.jsx)(C.a.Header,{children:Object(x.jsx)(C.a.Title,{children:"Delete Todo"})}),Object(x.jsxs)(C.a.Body,{children:['Do you want to delete "',t.description,'" ?']}),Object(x.jsxs)(C.a.Footer,{children:[Object(x.jsx)(d.a,{variant:"danger",onClick:function(){return s(t.todo_id)},children:"Delete"}),Object(x.jsx)(d.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})},L=function(e){var t=e.activeTodo,n=e.setOpenModal,r=e.openModal,o=Object(c.useState)(t.description),a=Object(s.a)(o,2),u=a[0],l=a[1];return Object(x.jsxs)(C.a,{show:r,onHide:function(){return n(!1)},children:[Object(x.jsx)(C.a.Header,{children:Object(x.jsx)(C.a.Title,{children:"Edit Todo"})}),Object(x.jsxs)(i.a,{onSubmit:function(e){return function(e){e.preventDefault(),h(u,t.todo_id),n(!1)}(e)},children:[Object(x.jsx)(C.a.Body,{children:Object(x.jsx)(i.a.Control,{value:u,type:"text",placeholder:"Enter a new todo",onChange:function(e){return l(e.target.value)}})}),Object(x.jsxs)(C.a.Footer,{children:[Object(x.jsx)(d.a,{type:"submit",children:"Save"}),Object(x.jsx)(d.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})]})},E=function(e){var t=e.todo,n=Object(c.useState)(!1),r=Object(s.a)(n,2),o=r[0],a=r[1],i=Object(c.useState)(!1),u=Object(s.a)(i,2),l=u[0],j=u[1],b=Object(c.useState)(),p=Object(s.a)(b,2),f=p[0],h=p[1],v=Object(c.useState)(!1),m=Object(s.a)(v,2),g=m[0],w=m[1],y={display:"".concat(g||window.innerWidth<768?"inline-block":"none"," ")};return console.log(window.innerWidth),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(k.a.Item,{className:"todo-item mh-100 rounded",onMouseOverCapture:function(){return w(!0)},onMouseLeave:function(){return w(!1)},children:Object(x.jsxs)(N.a,{className:"d-flex",children:[Object(x.jsx)("span",{onClick:function(){return e=t.todo_id,O(e),void(window.location="/");var e},style:{width:"100%",textDecorationLine:"".concat(t.is_done?"line-through":"none"," ")},children:t.description}),Object(x.jsx)(d.a,{style:y,variant:"outline-secondary",className:"but border-0",onClick:function(){return h(t),void j(!0)},children:Object(x.jsx)("i",{className:"fa fa-edit"})}),Object(x.jsx)(d.a,{style:y,className:"but border-0",onClick:function(){return h(t),void a(!0)},variant:"outline-danger",children:Object(x.jsx)("i",{className:"fa fa-trash"})})]})},t.todo_id),o&&Object(x.jsx)(T,{activeTodo:f,openModal:o,setOpenModal:a}),l&&Object(x.jsx)(L,{activeTodo:f,openModal:l,setOpenModal:j})]})},M=function(){var e=m(),t=e.todoList,n=e.setTodoList;return Object(c.useEffect)((function(){var e=!0;return f().then((function(t){return e&&n(t)})),function(){e=!1}}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"text-center mt-3",children:"Todo List"}),Object(x.jsx)("div",{children:Object(x.jsx)(k.a,{children:0===t.length?Object(x.jsx)(S.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(x.jsx)(x.Fragment,{children:t.map((function(e){return Object(x.jsx)(E,{todo:e},e.todo_id)}))})})})]})},D=(n(32),function(e){var t=e.value,n=e.setValue,r=e.prompt,o=m().todoList,a=Object(c.useState)(!1),i=Object(s.a)(a,2),u=i[0],d=i[1],l=Object(c.useState)(0),j=Object(s.a)(l,2),b=j[0],p=j[1],f=Object(c.useState)(""),h=Object(s.a)(f,2),O=h[0],v=h[1],g=Object(c.useState)([]),w=Object(s.a)(g,2),y=w[0],k=w[1],S=Object(c.useRef)(null);function N(e){d(e&&e.target===S.current)}Object(c.useEffect)((function(){return document.addEventListener("click",N),C(O),function(){document.removeEventListener("click",N)}}),[O]);var C=function(e){var t=[];e?(o.forEach((function(n){n.description.toLocaleLowerCase().includes(e.toLowerCase())&&t.push(n)})),k(t.slice(0,4))):k([])};function T(e){n(e),d(!1),p(0),k([])}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsxs)("div",{className:"control",children:[Object(x.jsx)("div",{className:"selected-value",children:Object(x.jsx)("input",{"data-testid":"input",ref:S,placeholder:t?t.description:r,type:"text",value:t?t.description:O,onChange:function(e){!u&&d(!0),v(e.target.value),n(null)},onKeyDown:function(e){return function(e){switch(e.key){case"ArrowDown":u?p((function(e){return e<y.length-1?e+1:0})):d(!0);break;case"ArrowUp":p((function(e){return e>0?e-1:y.length-0}));break;case"Escape":d(!1);break;case"Enter":y&&b>-1&&T(y[b])}}(e)},onMouseOver:function(){return p(0)},onMouseOut:function(){return p(0)}})}),Object(x.jsx)("div",{"data-testid":"arrow",className:"arrow ".concat(u&&"open")})]}),Object(x.jsx)("div",{"data-testid":"options",className:"options ".concat(u&&"open"),children:y.length>0&&y.map((function(e,n){return Object(x.jsx)("div",{"data-testid":"opt".concat(n),className:"option ".concat((t===e||e===y[b])&&"selected"),onClick:function(){T(e)},children:e.description},e.todo_id)}))})]}),t&&Object(x.jsx)(E,{style:{borderRadius:"33px"},todo:t})]})});var _=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(x.jsx)(g,{children:Object(x.jsxs)(y.a,{className:"col-xs-4 col-md-6 mx-auto",children:[Object(x.jsx)(w,{}),Object(x.jsx)(D,{prompt:"Search...",setValue:r,onChange:function(e){return r(e)},value:n}),Object(x.jsx)(M,{})]})})};n(33);a.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(_,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.915cfa40.chunk.js.map