(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{39:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(17),o=n.n(a),s=(n(39),n(51)),i=n(54),u=n(50),l=n(10),d=n.n(l),j=n(18),b=n(7);var h="https://boiling-sands-97823.herokuapp.com/todos";console.log(h,"production");var p=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h);case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,console.log(n),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={description:t},e.next=4,fetch("".concat(h,"/").concat(n),{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 4:window.location="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h,"/toggle/").concat(t),{method:"PUT"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),x=n(2),v=r.a.createContext();function m(){return Object(c.useContext)(v)}function g(e){var t=e.children,n=function(e,t){var n="pern-todo-"+e,r=Object(c.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),a=Object(b.a)(r,2),o=a[0],s=a[1];return Object(c.useEffect)((function(){localStorage.setItem(n,JSON.stringify(o))}),[n,o]),[o,s]}("todolist",[]),r=Object(b.a)(n,2),a=r[0],o=r[1],s=Object(c.useState)(""),i=Object(b.a)(s,2),u=i[0],l=i[1],p=Object(c.useState)(null),f=Object(b.a)(p,2),O=f[0],m=f[1],g=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n={description:u},!(u.length<3)){e.next=7;break}alert("You must type at least 3 characters"),e.next=10;break;case 7:return e.next=9,fetch(h,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 9:l("");case 10:window.location="/",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(v.Provider,{value:{todoList:a,setTodoList:o,onSubmitTodo:g,description:u,setDescription:l,searchValue:O,setSearchValue:m},children:t})}var y=n(49),w=n(56),S=n(52),k=function(e){var t=e.activeTodo,n=e.setOpenModal,c=e.openModal,r=m(),a=r.todoList,o=r.setTodoList,s=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h,"/").concat(t),{method:"DELETE"});case 3:o(a.filter((function(e){return e.todo_id!==t}))),n(!1),console.log("".concat(h,"/").concat(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(S.a,{centered:!0,show:c,onHide:function(){return n(!1)},children:[Object(x.jsx)(S.a.Header,{children:Object(x.jsx)(S.a.Title,{children:"Delete Todo"})}),Object(x.jsxs)(S.a.Body,{children:['Do you want to delete "',t.description,'" ?']}),Object(x.jsxs)(S.a.Footer,{children:[Object(x.jsx)(w.a,{variant:"danger",onClick:function(){return s(t.todo_id)},children:"Delete"}),Object(x.jsx)(w.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})},C=n(53),N=function(e){var t=e.activeTodo,n=e.setOpenModal,r=e.openModal,a=Object(c.useState)(t.description),o=Object(b.a)(a,2),s=o[0],i=o[1];return Object(x.jsxs)(S.a,{centered:!0,show:r,onHide:function(){return n(!1)},children:[Object(x.jsx)(S.a.Header,{children:Object(x.jsx)(S.a.Title,{children:"Edit Todo"})}),Object(x.jsxs)(C.a,{onSubmit:function(e){return function(e){if(e.preventDefault(),s.length<4)return alert("Input value must be minimum 3 characters!");f(s,t.todo_id),n(!1)}(e)},children:[Object(x.jsx)(S.a.Body,{children:Object(x.jsx)(C.a.Control,{maxLength:"30",value:s,type:"text",onChange:function(e){return function(e){e.preventDefault();var t=e.target,n=t.value,c=t.maxLength,r=n.slice(0,c);i(r)}(e)}})}),Object(x.jsxs)(S.a.Footer,{children:[Object(x.jsx)(w.a,{type:"submit",children:"Save"}),Object(x.jsx)(w.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})]})},T=function(e){var t=e.todo,n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],o=r[1],s=Object(c.useState)(!1),u=Object(b.a)(s,2),l=u[0],d=u[1],j=Object(c.useState)(),h=Object(b.a)(j,2),p=h[0],f=h[1],v=Object(c.useState)(!1),m=Object(b.a)(v,2),g=m[0],S=m[1],C={display:"".concat(g||window.innerWidth<768?"inline-block":"none"," ")};return console.log(window.innerWidth),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.a.Item,{className:"todo-item mh-100 rounded px-2",onMouseOverCapture:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:Object(x.jsxs)(y.a,{className:"d-flex",children:[Object(x.jsxs)("span",{onClick:function(){return e=t.todo_id,O(e),void(window.location="/");var e},className:"w-100",style:{textDecorationLine:"".concat(t.is_done?"line-through":"none"," "),color:"".concat(t.is_done?"gray":"#000"," ")},children:[Object(x.jsx)("input",{id:t.todo_id,type:"radio",onChange:function(){},checked:t.is_done,style:{marginRight:"5px"}}),t.description]}),Object(x.jsx)(w.a,{style:C,variant:"outline-secondary",className:"but border-0 p-1",onClick:function(){return f(t),void d(!0)},children:Object(x.jsx)("i",{className:"fa fa-edit"})}),Object(x.jsx)(w.a,{style:C,className:"but border-0 p-1",onClick:function(){return f(t),void o(!0)},variant:"outline-danger",children:Object(x.jsx)("i",{className:"fa fa-trash"})})]})},t.todo_id),a&&Object(x.jsx)(k,{activeTodo:p,openModal:a,setOpenModal:o}),l&&Object(x.jsx)(N,{activeTodo:p,openModal:l,setOpenModal:d})]})},L=function(){var e=m(),t=e.todoList,n=e.setTodoList;e.searchValue;return Object(c.useEffect)((function(){var e=!0;return p().then((function(t){return e&&n(t)})),function(){e=!1}}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)(i.a,{children:0===t.length?Object(x.jsx)(u.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(x.jsx)(x.Fragment,{children:t.map((function(e){return Object(x.jsx)(T,{todo:e},e.todo_id)}))})})})})},E=function(){var e=m(),t=e.description,n=e.setDescription,c=e.onSubmitTodo;return Object(x.jsxs)(C.a,{onSubmit:c,className:"d-flex mt-5 mb-4",children:[Object(x.jsx)(C.a.Control,{maxLength:"30",value:t,type:"text",placeholder:"Enter a new todo",onChange:function(e){return function(e){e.preventDefault();var t=e.target,c=t.value,r=t.maxLength,a=c.slice(0,r);n(a)}(e)}}),Object(x.jsx)(w.a,{style:{fontSize:"16px"},variant:"outline-light",type:"submit",children:Object(x.jsx)("i",{className:"fa fa-plus"})})]})},D=(n(45),function(e){var t=e.prompt,n=m(),r=n.todoList,a=n.setSearchValue,o=n.searchValue,s=Object(c.useState)(!1),i=Object(b.a)(s,2),u=i[0],l=i[1],d=Object(c.useState)(0),j=Object(b.a)(d,2),h=j[0],p=j[1],f=Object(c.useState)(""),O=Object(b.a)(f,2),v=O[0],g=O[1],y=Object(c.useState)([]),w=Object(b.a)(y,2),S=w[0],k=w[1],C=Object(c.useRef)(null);function N(e){l(e&&e.target===C.current)}Object(c.useEffect)((function(){return document.addEventListener("click",N),T(v),function(){document.removeEventListener("click",N)}}),[v]);var T=function(e){var t=[];e?(r.forEach((function(n){n.description.toLocaleLowerCase().includes(e.toLowerCase())&&t.push(n)})),k(t.slice(0,4))):k([])};function L(e){a(e),l(!1),p(0),k([])}return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsxs)("div",{className:"control",children:[Object(x.jsx)("div",{className:"selected-value",children:Object(x.jsx)("input",{"data-testid":"input",ref:C,placeholder:o?o.description:t,type:"text",value:o?o.description:v,onChange:function(e){!u&&l(!0),g(e.target.value),a(null)},onKeyDown:function(e){return function(e){switch(e.key){case"ArrowDown":u?p((function(e){return e<S.length-1?e+1:0})):l(!0);break;case"ArrowUp":p((function(e){return e>0?e-1:S.length-0}));break;case"Escape":l(!1);break;case"Enter":S&&h>-1&&L(S[h])}}(e)},onMouseOver:function(){return p(0)},onMouseOut:function(){return p(0)}})}),Object(x.jsx)("div",{"data-testid":"arrow",className:"arrow ".concat(u&&"open")})]}),Object(x.jsx)("div",{"data-testid":"options",className:"options ".concat(u&&"open"),children:S.length>0&&S.map((function(e,t){return Object(x.jsx)("div",{"data-testid":"opt".concat(t),className:"option ".concat((o===e||e===S[h])&&"selected"),onClick:function(){L(e)},children:e.description},e.todo_id)}))})]})})}),M=n(55),_=function(){var e=m(),t=e.setSearchValue,n=e.searchValue;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(M.a,{style:{backgroundColor:"rgb(140, 196, 255)"},expand:"lg",className:"rounded",children:Object(x.jsxs)(s.a,{fluid:!0,children:[Object(x.jsx)(M.a.Brand,{href:"#",children:Object(x.jsx)("h2",{children:"Todo App"})}),Object(x.jsx)(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(M.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav",children:Object(x.jsx)(D,{prompt:"Search...",onChange:function(e){return t(e)}})})]})}),n&&Object(x.jsxs)("div",{className:"mt-5 mb-3",children:[Object(x.jsx)("h6",{children:"Selected Todo:"}),Object(x.jsx)(T,{todo:n}),Object(x.jsx)("hr",{})]})]})};var F=function(){return Object(x.jsx)(g,{children:Object(x.jsxs)(s.a,{className:"col-xs-4 col-md-6 mx-auto",children:[Object(x.jsx)(_,{}),Object(x.jsx)(E,{}),Object(x.jsx)(L,{})]})})};n(46);o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.649d0564.chunk.js.map